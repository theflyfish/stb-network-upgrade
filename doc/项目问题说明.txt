

a 流程图太粗糙
b 以下功能需要完善
1、网络数据下载时对网络异常的处理（如网络中断、包序错误、网络短暂中断后恢复等）；
2、写入flash时断电的异常处理（目前的配置可能比较困难，可以先完成设计，不实现功能）；
3、检测升级时对请求合法性的判断（可以使用stb序列号来判断是否合法请求，否则不发送升级数据）；
4、检测到升级时要提示用户是否升级，用户选否的话在下次启动前不再进行提示（或停止检测任务）；
5、增加手动检测菜单项，用户可以手动检测版本更新，并选择是否升级；
6、svr端增加log，记录升级机顶盒的序列号、升级时间、是否成功等信息。
